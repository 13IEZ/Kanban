(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(14),s=n.n(c),i=(n(77),n(15)),r=(n(78),n(19)),o=(n(79),n.p+"static/media/avatar.ba55084e.svg"),l=n(3),u=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=function(){c(!n)};return Object(l.jsxs)("nav",{className:"NavBar",children:[Object(l.jsx)("h1",{className:"NavBar__title",children:"Awesome Kanban Board"}),Object(l.jsxs)("div",{className:"NavBar__controls-panel",children:[Object(l.jsx)("img",{onClick:s,className:"NavBar__controls-panel__avatar",src:o,alt:"Not found"}),Object(l.jsx)("button",{onClick:s,className:"NavBar__controls-panel__arrow ".concat(n?"up":"down")})]}),Object(l.jsx)("div",{className:"NavBar__drop-menu",style:{display:n?"block":"none"},children:Object(l.jsxs)("ul",{className:"NavBar__drop-menu__list",children:[Object(l.jsx)("li",{children:"Profile"}),Object(l.jsx)("li",{children:"Log out"})]})})]})},d=(n(81),n(10)),b=function(){var e=Object(d.c)((function(e){return e.backlogTasks})),t=Object(d.c)((function(e){return e.finishedTasks}));return Object(l.jsxs)("div",{className:"Footer",children:[Object(l.jsxs)("div",{className:"Footer-left",children:[Object(l.jsxs)("p",{children:["Active tasks: ",e.length]}),Object(l.jsxs)("p",{children:["Finished tasks: ",t.length]})]}),Object(l.jsx)("div",{className:"Footer-right",children:Object(l.jsxs)("p",{children:["Kanban board by Igor Zakharov, ",(new Date).toDateString()]})})]})},j=function(e){return Object(l.jsxs)("div",{className:"Layout",children:[Object(l.jsx)("header",{className:"Layout-header",children:Object(l.jsx)(u,{})}),Object(l.jsx)("main",{className:"Layout-main",children:e.children}),Object(l.jsx)("footer",{className:"Layout-footer",children:Object(l.jsx)(b,{})})]})},f=(n(85),n(131)),O=n(23),m=(n(86),function(e){var t=e.elem,n=e.checkTitle,c=e.checkOutClick,s=Object(a.useState)(!0),i=Object(r.a)(s,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){""===t.title?u(!0):u(!1)}),[]),Object(l.jsx)(O.b,{className:"Kanban-item__navlink",to:""===t.title?"/":"/".concat(t.id),children:Object(l.jsx)("div",{className:"BacklogItem",children:Object(l.jsx)(f.a,{onBlur:function(e){return u(!1),void c("out")},onChange:function(e){return n(e,t.id)},autoFocus:!!o,disabled:!o,className:"Kanban-item__task",id:"filled-textarea",multiline:!0,variant:"outlined",defaultValue:t.title})})})}),h=n(9),p=n(55);n(88);p.a.initializeApp({apiKey:"AIzaSyArjndnyd4qx4nFfgDNDhNN9DfrXNflQZM",authDomain:"igor-zakharov.firebaseapp.com",databaseURL:"https://igor-zakharov-default-rtdb.firebaseio.com",projectId:"igor-zakharov",storageBucket:"igor-zakharov.appspot.com",messagingSenderId:"79613404887",appId:"1:79613404887:web:3b3da7dbd00dc8571db292"});var k=p.a.database(),v="FETCH_STATUS_SUCCESS",g="ADD_INPUT_FIELD",x="MOVE_TASK_FORWARD",_=function(e){return{type:v,payload:e}},N=function(e){return{type:g,payload:e}},y=function(e,t,n){return function(a){return k.ref("kanban/tasks/".concat(e)).update({status:t,lastUpdate:n})}},T=function(e,t){return{type:x,payload:e,status:t}},I=function(){var e=Object(d.c)((function(e){return e.backlogTasks})),t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(d.b)(),o=function(e,t){i(function(e,t){return function(n){return k.ref("kanban/tasks/".concat(e)).update({title:t})}}(t,e.target.value))},u=function(e){"out"===e&&s(!1)};return Object(l.jsxs)("div",{className:"Kanban-item",children:[Object(l.jsx)("h2",{className:"Kanban-item__title",children:"Backlog"}),e.map((function(e){return Object(l.jsx)(m,{elem:e,checkTitle:o,checkOutClick:u},e.id)})),Object(l.jsx)("button",{onClick:function(){var e=(new Date).toISOString();s(!0),i(function(e,t,n,a,c){return function(s){k.ref("kanban").child("tasks").push({title:e,description:t,status:n,dateCreation:a,lastUpdate:c})}}("","","backlog",e,""))},className:"Kanban-item__add-btn",style:{display:c?"none":"block"},children:"Add card"}),Object(l.jsx)("button",{className:"Kanban-item__submit-btn",onClick:function(){s(!1)},style:{display:c?"block":"none"},children:"Submit"})]})},S=n(132),C=(n(91),function(e){var t=e.checkClickedItem,n=e.elem,a=Object(d.c)((function(e){return e.backlogTasks}));return Object(l.jsx)(O.b,{className:"Kanban-item__navlink",to:""===n.title?"/":"/".concat(n.id),children:Object(l.jsx)("div",{className:"ReadyItem",children:Object(l.jsx)(S.a,{defaultValue:""!==n.title?n:null,id:"combo-box-demo",freeSolo:""!==n.title,disabled:""!==n.title,className:"ReadyItem__autocomplete",options:a,getOptionLabel:function(e){return e.title},renderInput:function(e){return Object(l.jsx)(f.a,Object(h.a)(Object(h.a)({},e),{},{variant:"outlined",multiline:!0}))},onChange:function(e,n){try{t(n.id)}catch(a){console.log("Null")}}})})})}),D=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(d.c)((function(e){return e.backlogTasks})),i=Object(d.c)((function(e){return e.readyTasks})),o=Object(d.b)();Object(a.useEffect)((function(){s.length>0?c(!1):c(!0)}),[s]);var u=function(e){var t=s.findIndex((function(t){return t.id===e})),n=Object(h.a)({},s[t]),a=(new Date).toISOString();o(T(n,"ready")),o(y(e,"ready",a)),c(!1)};return Object(l.jsxs)("div",{className:"Kanban-item",children:[Object(l.jsx)("h2",{className:"Kanban-item__title",children:"Ready"}),i.map((function(e){return Object(l.jsx)(C,{elem:e,checkClickedItem:u},e.id)})),Object(l.jsx)("button",{onClick:function(){c(!0),o(N("ready"))},disabled:n,className:"Kanban-item__add-btn",children:"Add card"})]})},F=(n(92),function(e){var t=e.elem,n=e.checkClickedItem,a=Object(d.c)((function(e){return e.readyTasks}));return Object(l.jsx)(O.b,{className:"Kanban-item__navlink",to:""===t.title?"/":"/".concat(t.id),children:Object(l.jsx)("div",{className:"InProgressItem",children:Object(l.jsx)(S.a,{defaultValue:""!==t.title?t:null,id:"combo-box-demo",freeSolo:""!==t.title,disabled:""!==t.title,className:"InProgressItem__autocomplete",options:a,getOptionLabel:function(e){return e.title},renderInput:function(e){return Object(l.jsx)(f.a,Object(h.a)(Object(h.a)({},e),{},{variant:"outlined",multiline:!0}))},onChange:function(e,t){try{n(t.id)}catch(a){console.log("Null")}}})})})}),E=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(d.c)((function(e){return e.readyTasks})),i=Object(d.c)((function(e){return e.inProgressTasks})),o=Object(d.b)();Object(a.useEffect)((function(){s.length>0?c(!1):c(!0)}),[s]);var u=function(e){var t=s.findIndex((function(t){return t.id===e})),n=Object(h.a)({},s[t]),a=(new Date).toISOString();o(T(n,"in progress")),o(y(e,"in progress",a)),c(!1)};return Object(l.jsxs)("div",{className:"Kanban-item",children:[Object(l.jsx)("h2",{className:"Kanban-item__title",children:"In Progress"}),i.map((function(e){return Object(l.jsx)(F,{elem:e,checkClickedItem:u},e.id)})),Object(l.jsx)("button",{onClick:function(){c(!0),o(N("in progress"))},disabled:n,className:"Kanban-item__add-btn",children:"Add card"})]})},K=(n(93),function(e){var t=e.checkClickedItem,n=e.elem,a=Object(d.c)((function(e){return e.inProgressTasks}));return Object(l.jsx)(O.b,{className:"Kanban-item__navlink",to:""===n.title?"/":"/".concat(n.id),children:Object(l.jsx)("div",{className:"FinishedItem",children:Object(l.jsx)(S.a,{defaultValue:""!==n.title?n:null,id:"combo-box-demo",freeSolo:""!==n.title,disabled:""!==n.title,className:"FinishedItem__autocomplete",options:a,getOptionLabel:function(e){return e.title},renderInput:function(e){return Object(l.jsx)(f.a,Object(h.a)(Object(h.a)({},e),{},{variant:"outlined",multiline:!0}))},onChange:function(e,n){try{t(n.id)}catch(a){console.log("Null")}}})})})}),w=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(d.c)((function(e){return e.inProgressTasks})),i=Object(d.c)((function(e){return e.finishedTasks})),o=Object(d.b)();Object(a.useEffect)((function(){s.length>0?c(!1):c(!0)}),[s]);var u=function(e){var t=s.findIndex((function(t){return t.id===e})),n=Object(h.a)({},s[t]),a=(new Date).toISOString();o(T(n,"finished")),o(y(e,"finished",a)),c(!1)};return Object(l.jsxs)("div",{className:"Kanban-item",children:[Object(l.jsx)("h2",{className:"Kanban-item__title",children:"Finished"}),i.map((function(e){return Object(l.jsx)(K,{elem:e,checkClickedItem:u},e.id)})),Object(l.jsx)("button",{onClick:function(){c(!0),o(N("finished"))},disabled:n,className:"Kanban-item__add-btn",children:"Add card"})]})},P=function(){var e=Object(d.b)();return Object(a.useEffect)((function(){e((function(e){k.ref("kanban/tasks").on("value",(function(t){if(t.exists()){var n=t.val();e(_(Object.keys(n).map((function(e){return Object(h.a)(Object(h.a)({},n[e]),{},{id:e})}))))}else e(_([]))}))}))}),[e]),Object(l.jsxs)("div",{className:"Kanban",children:[Object(l.jsx)(I,{}),Object(l.jsx)(D,{}),Object(l.jsx)(E,{}),Object(l.jsx)(w,{})]})},B=(n(94),function(){var e=Object(i.f)(),t=Object(i.g)(),n=Object(d.b)(),c=Object(a.useState)(""),s=Object(r.a)(c,2),o=s[0],u=s[1],b=Object(a.useState)(""),j=Object(r.a)(b,2),f=j[0],O=j[1],m=Object(a.useState)(""),h=Object(r.a)(m,2),p=h[0],v=h[1];Object(a.useEffect)((function(){k.ref("kanban/tasks/".concat(t.id)).once("value",(function(e){u(e.val().title),O(e.val().description),v(e.val().status)}))}),[t]);var g=function(e,t){"title"===t?u(e.target.value):"status"===t?v(e.target.value):"description"===t&&O(e.target.value)};return Object(l.jsxs)("form",{className:"EditForm",onSubmit:function(a){a.preventDefault();var c=(new Date).toISOString();n(function(e,t,n,a,c){return function(s){return k.ref("kanban/tasks/".concat(e)).update({status:t,lastUpdate:n,title:a,description:c})}}(t.id,p,c,o,f)),e.push("/")},children:[Object(l.jsxs)("div",{className:"EditForm-item",children:[Object(l.jsx)("input",{className:"EditForm__input-title",type:"text",value:o,onChange:function(e){return g(e,"title")}}),Object(l.jsxs)("select",{className:"EditForm__select",value:p,name:"status",onChange:function(e){return g(e,"status")},children:[Object(l.jsx)("option",{value:"backlog",children:"Backlog"}),Object(l.jsx)("option",{value:"ready",children:"Ready"}),Object(l.jsx)("option",{value:"in progress",children:"In Progress"}),Object(l.jsx)("option",{value:"finished",children:"Finished"})]})]}),Object(l.jsx)("div",{className:"EditForm-item",children:Object(l.jsx)("textarea",{className:"EditForm__description",placeholder:"Add description",value:f,onChange:function(e){return g(e,"description")}})}),Object(l.jsx)("button",{className:"EditForm__close",onClick:function(t){return function(t){t.preventDefault(),e.push("/")}(t)}}),Object(l.jsx)("div",{className:"EditForm-item",children:Object(l.jsx)("button",{className:"Kanban-item__submit-btn EditForm__btn",children:"Submit"})})]})});var A=function(){return Object(l.jsx)(j,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/:id",component:B}),Object(l.jsx)(i.a,{path:"/",component:P})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},L=n(64),R=n(37),z=n(28),V={tasks:[],backlogTasks:[],readyTasks:[],inProgressTasks:[],finishedTasks:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(h.a)(Object(h.a)({},e),{},{tasks:t.payload,backlogTasks:t.payload.filter((function(e){return"backlog"===e.status})).sort((function(e,t){return new Date(e.dateCreation).getTime()>new Date(t.dateCreation).getTime()?1:-1})),readyTasks:t.payload.filter((function(e){return"ready"===e.status})).sort((function(e,t){return new Date(e.lastUpdate).getTime()>new Date(t.lastUpdate).getTime()?1:-1})),inProgressTasks:t.payload.filter((function(e){return"in progress"===e.status})).sort((function(e,t){return new Date(e.lastUpdate).getTime()>new Date(t.lastUpdate).getTime()?1:-1})),finishedTasks:t.payload.filter((function(e){return"finished"===e.status})).sort((function(e,t){return new Date(e.lastUpdate).getTime()>new Date(t.lastUpdate).getTime()?1:-1}))});case g:if("ready"===t.payload){var n=Object(z.a)(e.readyTasks);return n.push({title:"",description:"",id:"",status:"",counter:0}),Object(h.a)(Object(h.a)({},e),{},{readyTasks:n})}if("in progress"===t.payload){var a=Object(z.a)(e.inProgressTasks);return a.push({title:"",description:"",id:"",status:"",counter:0}),Object(h.a)(Object(h.a)({},e),{},{inProgressTasks:a})}var c=Object(z.a)(e.finishedTasks);return c.push({title:"",description:"",id:"",status:"",counter:0}),Object(h.a)(Object(h.a)({},e),{},{finishedTasks:c});case x:if("ready"===t.status){var s=Object(z.a)(e.readyTasks);s[s.length-1]=t.payload;var i=Object(z.a)(e.backlogTasks),r=i.findIndex((function(e){return e.id===t.payload.id}));return i.splice(r,1),Object(h.a)(Object(h.a)({},e),{},{readyTasks:s,backlogTasks:i})}if("in progress"===t.status){var o=Object(z.a)(e.inProgressTasks);o[o.length-1]=t.payload;var l=Object(z.a)(e.readyTasks),u=l.findIndex((function(e){return e.id===t.payload.id}));return l.splice(u,1),Object(h.a)(Object(h.a)({},e),{},{inProgressTasks:o,readyTasks:l})}var d=Object(z.a)(e.finishedTasks);d[d.length-1]=t.payload;var b=Object(z.a)(e.inProgressTasks),j=b.findIndex((function(e){return e.id===t.payload.id}));return b.splice(j,1),Object(h.a)(Object(h.a)({},e),{},{inProgressTasks:b,finishedTasks:d});default:return e}},X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,J=Object(R.d)(M,X(Object(R.a)(L.a))),Z=Object(l.jsx)(d.a,{store:J,children:Object(l.jsx)(O.a,{children:Object(l.jsx)(A,{})})});s.a.render(Z,document.getElementById("root")),U()}},[[95,1,2]]]);
//# sourceMappingURL=main.1e3cf25f.chunk.js.map